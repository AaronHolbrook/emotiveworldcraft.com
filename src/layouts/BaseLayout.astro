---
import "@/styles/global.css";

import BaseHead from "@/components/BaseHead.astro";
import Footer from "@/components/Footer.astro";
import Navigation from "@/components/Navigation.astro";
import EmailSignup from "@/components/EmailSignup.astro";

const { backgroundImage } = Astro.props;
const bgStyle = backgroundImage ? `--site-background: url(${backgroundImage.src});` : "";
---

<html
  lang="en"
  class="dark">
  <BaseHead>
    <slot name="head" />
  </BaseHead>
  <body style={bgStyle}>
    <Navigation />
    <div
      class="isolate mx-auto max-w-screen-sm rounded-3xl bg-white/5 p-4 font-sans shadow-2xl ring-1 ring-black/5 backdrop-blur-md backdrop-brightness-60">
      <main class="min-h-[80vh]">
        <slot />
      </main>

      <EmailSignup />
      <Footer />
    </div>
  </body>
</html>
